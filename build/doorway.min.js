(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
;(function(){
	//supporting methods
	function normalize ($value, $min, $max) {
		return ($value - $min) / ($max - $min);
	}

	function interpolate ($normValue, $min, $max) {
		return $min + ($max - $min) * $normValue;
	}

	function map ($value, $min1, $max1, $min2, $max2) {
			if ($value < $min1) {
				$value = $min1;
			}
			if ($value > $max1) {
				$value = $max1;
			}
			return interpolate(normalize($value, $min1, $max1), $min2, $max2);
	}

	function getScrollTop() {
		if (window.pageYOffset != undefined) {
			return pageYOffset;
		} else {
			var sy, d = document,
				r = d.documentElement,
				b = d.body;
			sy = r.scrollTop || b.scrollTop || 0;
			return sy;
		}
	}

	function outerHeight(el) {
		var height = el.offsetHeight;
		var style = getComputedStyle(el);

		height += parseInt(style.marginTop) + parseInt(style.marginBottom);
		return height;
	}

	Doorway = function(options){
		
		var config = {
			header: '[data-doorway]',
			pusher: '[data-doorway-push]',
			scrub: function(offset) {
				//blank
			}
		}
		
		//define header and pusher from optional config
		if(options !== undefined) {
			if(options.hasOwnProperty('scrub')) {
				config.scrub = options.scrub;
			}
			if (options.hasOwnProperty('header')) {
				if(typeof options.header === 'string') {
					config.header = document.querySelector(options.header);
				} else {
					config.header = options.header
				}
			} else {
				config.header = document.querySelector(config.header);
			}
			if (options.hasOwnProperty('pusher')) {
				if(typeof options.pusher === 'string') {
					config.pusher = document.querySelector(options.pusher);
				} else {
					config.pusher = options.pusher
				}
			} else {
				config.pusher = document.querySelector(config.pusher);
			}
		} else {
			config.header = document.querySelector(config.header);
			config.pusher = document.querySelector(config.pusher);
		}

		// flags
		var revealing = false,
		revealed = true,
		hiding = false,
		hidden = false,
		airborne = true;

		//values
		var hi = outerHeight(config.header),
		scrollTop = getScrollTop(),
		delta = 0,
		y,
		deadZone = (!config.pusher) ? 0 : (config.pusher.getBoundingClientRect().top + getScrollTop()) - hi,
		pinTop = 0;

		//scroll event
		document.addEventListener('scroll', function (evt) {
			//determine delta
			delta = scrollTop;
			scrollTop = (getScrollTop() < 0) ? 0 : getScrollTop();
			delta = scrollTop - delta;
			
			//determine state
			if (scrollTop > deadZone) {
				airborne = true;
			} else {
				airborne = false;
				pinTop = deadZone;
			}
			
			if (airborne && delta > 0) {
	
				if (revealed) {
					revealed = false;
					hiding = true;
					pinTop = scrollTop;
				}
	
				if (hiding) {
					y = map(scrollTop, pinTop, pinTop + hi, 0, 1);
					config.scrub(y);
					if (y == 1) {
						hidden = true;
						hiding = false;
					}
				} else if (revealing) {
					y = map(scrollTop, pinTop - hi, pinTop, 0, 1);
					config.scrub(y);
					if (y == 1) {
						hidden = true;
						hiding = false;
						revealing = false;
					}
				}
	
			} else if (delta < 0) {
	
				if (hidden) {
					revealing = true;
					hidden = false;
					pinTop = scrollTop;
				}
	
				if (revealing) {
					y = map(scrollTop, pinTop - hi, pinTop, 0, 1);
					config.scrub(y);
					if (y == 0) {
						revealed = true;
						revealing = false;
					}
				} else if (hiding) {
					y = map(scrollTop, pinTop, pinTop + hi, 0, 1);
					config.scrub(y);
					if (y == 0) {
						revealed = true;
						revealing = false;
						hiding = false;
					}
				}
	
			}
			
			config.header.style.transform = "translateY(" + (y * -hi) + "px)";
		});

		return {
			refresh: function() {
				hi = outerHeight(config.header);
				deadZone = (!config.pusher) ? 0 : (config.pusher.getBoundingClientRect().top + getScrollTop()) - hi;
				
				document.dispatchEvent(new Event('scroll'));
			}
		}
	}
})();
},{}]},{},[1])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJkZXYvZG9vcndheS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiOyhmdW5jdGlvbigpe1xuXHQvL3N1cHBvcnRpbmcgbWV0aG9kc1xuXHRmdW5jdGlvbiBub3JtYWxpemUgKCR2YWx1ZSwgJG1pbiwgJG1heCkge1xuXHRcdHJldHVybiAoJHZhbHVlIC0gJG1pbikgLyAoJG1heCAtICRtaW4pO1xuXHR9XG5cblx0ZnVuY3Rpb24gaW50ZXJwb2xhdGUgKCRub3JtVmFsdWUsICRtaW4sICRtYXgpIHtcblx0XHRyZXR1cm4gJG1pbiArICgkbWF4IC0gJG1pbikgKiAkbm9ybVZhbHVlO1xuXHR9XG5cblx0ZnVuY3Rpb24gbWFwICgkdmFsdWUsICRtaW4xLCAkbWF4MSwgJG1pbjIsICRtYXgyKSB7XG5cdFx0XHRpZiAoJHZhbHVlIDwgJG1pbjEpIHtcblx0XHRcdFx0JHZhbHVlID0gJG1pbjE7XG5cdFx0XHR9XG5cdFx0XHRpZiAoJHZhbHVlID4gJG1heDEpIHtcblx0XHRcdFx0JHZhbHVlID0gJG1heDE7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gaW50ZXJwb2xhdGUobm9ybWFsaXplKCR2YWx1ZSwgJG1pbjEsICRtYXgxKSwgJG1pbjIsICRtYXgyKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGdldFNjcm9sbFRvcCgpIHtcblx0XHRpZiAod2luZG93LnBhZ2VZT2Zmc2V0ICE9IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuIHBhZ2VZT2Zmc2V0O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgc3ksIGQgPSBkb2N1bWVudCxcblx0XHRcdFx0ciA9IGQuZG9jdW1lbnRFbGVtZW50LFxuXHRcdFx0XHRiID0gZC5ib2R5O1xuXHRcdFx0c3kgPSByLnNjcm9sbFRvcCB8fCBiLnNjcm9sbFRvcCB8fCAwO1xuXHRcdFx0cmV0dXJuIHN5O1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIG91dGVySGVpZ2h0KGVsKSB7XG5cdFx0dmFyIGhlaWdodCA9IGVsLm9mZnNldEhlaWdodDtcblx0XHR2YXIgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsKTtcblxuXHRcdGhlaWdodCArPSBwYXJzZUludChzdHlsZS5tYXJnaW5Ub3ApICsgcGFyc2VJbnQoc3R5bGUubWFyZ2luQm90dG9tKTtcblx0XHRyZXR1cm4gaGVpZ2h0O1xuXHR9XG5cblx0RG9vcndheSA9IGZ1bmN0aW9uKG9wdGlvbnMpe1xuXHRcdFxuXHRcdHZhciBjb25maWcgPSB7XG5cdFx0XHRoZWFkZXI6ICdbZGF0YS1kb29yd2F5XScsXG5cdFx0XHRwdXNoZXI6ICdbZGF0YS1kb29yd2F5LXB1c2hdJyxcblx0XHRcdHNjcnViOiBmdW5jdGlvbihvZmZzZXQpIHtcblx0XHRcdFx0Ly9ibGFua1xuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHQvL2RlZmluZSBoZWFkZXIgYW5kIHB1c2hlciBmcm9tIG9wdGlvbmFsIGNvbmZpZ1xuXHRcdGlmKG9wdGlvbnMgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0aWYob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnc2NydWInKSkge1xuXHRcdFx0XHRjb25maWcuc2NydWIgPSBvcHRpb25zLnNjcnViO1xuXHRcdFx0fVxuXHRcdFx0aWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2hlYWRlcicpKSB7XG5cdFx0XHRcdGlmKHR5cGVvZiBvcHRpb25zLmhlYWRlciA9PT0gJ3N0cmluZycpIHtcblx0XHRcdFx0XHRjb25maWcuaGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihvcHRpb25zLmhlYWRlcik7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y29uZmlnLmhlYWRlciA9IG9wdGlvbnMuaGVhZGVyXG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbmZpZy5oZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbmZpZy5oZWFkZXIpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ3B1c2hlcicpKSB7XG5cdFx0XHRcdGlmKHR5cGVvZiBvcHRpb25zLnB1c2hlciA9PT0gJ3N0cmluZycpIHtcblx0XHRcdFx0XHRjb25maWcucHVzaGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihvcHRpb25zLnB1c2hlcik7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y29uZmlnLnB1c2hlciA9IG9wdGlvbnMucHVzaGVyXG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbmZpZy5wdXNoZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbmZpZy5wdXNoZXIpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25maWcuaGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb25maWcuaGVhZGVyKTtcblx0XHRcdGNvbmZpZy5wdXNoZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbmZpZy5wdXNoZXIpO1xuXHRcdH1cblxuXHRcdC8vIGZsYWdzXG5cdFx0dmFyIHJldmVhbGluZyA9IGZhbHNlLFxuXHRcdHJldmVhbGVkID0gdHJ1ZSxcblx0XHRoaWRpbmcgPSBmYWxzZSxcblx0XHRoaWRkZW4gPSBmYWxzZSxcblx0XHRhaXJib3JuZSA9IHRydWU7XG5cblx0XHQvL3ZhbHVlc1xuXHRcdHZhciBoaSA9IG91dGVySGVpZ2h0KGNvbmZpZy5oZWFkZXIpLFxuXHRcdHNjcm9sbFRvcCA9IGdldFNjcm9sbFRvcCgpLFxuXHRcdGRlbHRhID0gMCxcblx0XHR5LFxuXHRcdGRlYWRab25lID0gKCFjb25maWcucHVzaGVyKSA/IDAgOiAoY29uZmlnLnB1c2hlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgKyBnZXRTY3JvbGxUb3AoKSkgLSBoaSxcblx0XHRwaW5Ub3AgPSAwO1xuXG5cdFx0Ly9zY3JvbGwgZXZlbnRcblx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBmdW5jdGlvbiAoZXZ0KSB7XG5cdFx0XHQvL2RldGVybWluZSBkZWx0YVxuXHRcdFx0ZGVsdGEgPSBzY3JvbGxUb3A7XG5cdFx0XHRzY3JvbGxUb3AgPSAoZ2V0U2Nyb2xsVG9wKCkgPCAwKSA/IDAgOiBnZXRTY3JvbGxUb3AoKTtcblx0XHRcdGRlbHRhID0gc2Nyb2xsVG9wIC0gZGVsdGE7XG5cdFx0XHRcblx0XHRcdC8vZGV0ZXJtaW5lIHN0YXRlXG5cdFx0XHRpZiAoc2Nyb2xsVG9wID4gZGVhZFpvbmUpIHtcblx0XHRcdFx0YWlyYm9ybmUgPSB0cnVlO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0YWlyYm9ybmUgPSBmYWxzZTtcblx0XHRcdFx0cGluVG9wID0gZGVhZFpvbmU7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdGlmIChhaXJib3JuZSAmJiBkZWx0YSA+IDApIHtcblx0XG5cdFx0XHRcdGlmIChyZXZlYWxlZCkge1xuXHRcdFx0XHRcdHJldmVhbGVkID0gZmFsc2U7XG5cdFx0XHRcdFx0aGlkaW5nID0gdHJ1ZTtcblx0XHRcdFx0XHRwaW5Ub3AgPSBzY3JvbGxUb3A7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdGlmIChoaWRpbmcpIHtcblx0XHRcdFx0XHR5ID0gbWFwKHNjcm9sbFRvcCwgcGluVG9wLCBwaW5Ub3AgKyBoaSwgMCwgMSk7XG5cdFx0XHRcdFx0Y29uZmlnLnNjcnViKHkpO1xuXHRcdFx0XHRcdGlmICh5ID09IDEpIHtcblx0XHRcdFx0XHRcdGhpZGRlbiA9IHRydWU7XG5cdFx0XHRcdFx0XHRoaWRpbmcgPSBmYWxzZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSBpZiAocmV2ZWFsaW5nKSB7XG5cdFx0XHRcdFx0eSA9IG1hcChzY3JvbGxUb3AsIHBpblRvcCAtIGhpLCBwaW5Ub3AsIDAsIDEpO1xuXHRcdFx0XHRcdGNvbmZpZy5zY3J1Yih5KTtcblx0XHRcdFx0XHRpZiAoeSA9PSAxKSB7XG5cdFx0XHRcdFx0XHRoaWRkZW4gPSB0cnVlO1xuXHRcdFx0XHRcdFx0aGlkaW5nID0gZmFsc2U7XG5cdFx0XHRcdFx0XHRyZXZlYWxpbmcgPSBmYWxzZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XG5cdFx0XHR9IGVsc2UgaWYgKGRlbHRhIDwgMCkge1xuXHRcblx0XHRcdFx0aWYgKGhpZGRlbikge1xuXHRcdFx0XHRcdHJldmVhbGluZyA9IHRydWU7XG5cdFx0XHRcdFx0aGlkZGVuID0gZmFsc2U7XG5cdFx0XHRcdFx0cGluVG9wID0gc2Nyb2xsVG9wO1xuXHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRpZiAocmV2ZWFsaW5nKSB7XG5cdFx0XHRcdFx0eSA9IG1hcChzY3JvbGxUb3AsIHBpblRvcCAtIGhpLCBwaW5Ub3AsIDAsIDEpO1xuXHRcdFx0XHRcdGNvbmZpZy5zY3J1Yih5KTtcblx0XHRcdFx0XHRpZiAoeSA9PSAwKSB7XG5cdFx0XHRcdFx0XHRyZXZlYWxlZCA9IHRydWU7XG5cdFx0XHRcdFx0XHRyZXZlYWxpbmcgPSBmYWxzZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSBpZiAoaGlkaW5nKSB7XG5cdFx0XHRcdFx0eSA9IG1hcChzY3JvbGxUb3AsIHBpblRvcCwgcGluVG9wICsgaGksIDAsIDEpO1xuXHRcdFx0XHRcdGNvbmZpZy5zY3J1Yih5KTtcblx0XHRcdFx0XHRpZiAoeSA9PSAwKSB7XG5cdFx0XHRcdFx0XHRyZXZlYWxlZCA9IHRydWU7XG5cdFx0XHRcdFx0XHRyZXZlYWxpbmcgPSBmYWxzZTtcblx0XHRcdFx0XHRcdGhpZGluZyA9IGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0Y29uZmlnLmhlYWRlci5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoXCIgKyAoeSAqIC1oaSkgKyBcInB4KVwiO1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHJlZnJlc2g6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRoaSA9IG91dGVySGVpZ2h0KGNvbmZpZy5oZWFkZXIpO1xuXHRcdFx0XHRkZWFkWm9uZSA9ICghY29uZmlnLnB1c2hlcikgPyAwIDogKGNvbmZpZy5wdXNoZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wICsgZ2V0U2Nyb2xsVG9wKCkpIC0gaGk7XG5cdFx0XHRcdFxuXHRcdFx0XHRkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnc2Nyb2xsJykpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufSkoKTsiXX0=
