{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","public_html/src/js/doorway.js","public_html/src/js/main.js"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","(function(root, factory) {\r\n\t'use strict';\r\n\r\n\tif (typeof define === 'function' && define.amd) {\r\n\t\t// AMD. Register as an anonymous module.\r\n\t\tdefine([], factory);\r\n\t}\r\n\telse if (typeof exports === 'object') {\r\n\t\t// COMMONJS\r\n\t\tmodule.exports = factory();\r\n\t}\r\n\telse {\r\n\t\t// BROWSER\r\n\t\troot.Doorway = factory();\r\n\t}\r\n}(this, function() {\r\n\t'use strict';\r\n\r\n\tfunction Doorway(elem, options){\r\n\t\tvar options = (options !== undefined) ? options : {\r\n\t\t\t\toffset: 0\r\n\t\t\t},\r\n\t\t\tmathutils = {\r\n\t\t\t\tnormalize: function($value, $min, $max) {\r\n\t\t\t\t\treturn ($value - $min) / ($max - $min);\r\n\t\t\t\t},\r\n\r\n\t\t\t\tinterpolate: function($normValue, $min, $max) {\r\n\t\t\t\t\treturn $min + ($max - $min) * $normValue;\r\n\t\t\t\t},\r\n\r\n\t\t\t\tmap: function($value, $min1, $max1, $min2, $max2) {\r\n\r\n\t\t\t\t\tif ($value < $min1) {\r\n\t\t\t\t\t\t$value = $min1;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ($value > $max1) {\r\n\t\t\t\t\t\t$value = $max1;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar res = this.interpolate(this.normalize($value, $min1, $max1), $min2, $max2);\r\n\t\t\t\t\treturn res;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\tvar h = elem,\r\n\t\t\thi = h.outerHeight(),\r\n\t\t\tscrollTop = 0,\r\n\t\t\tdelta = 0,\r\n\t\t\ty = 0,\r\n\t\t\tairborne = false,\r\n\t\t\tpinTop = options.offset,\r\n\t\t\trevealing = false,\r\n\t\t\trevealed = true,\r\n\t\t\thiding = false,\r\n\t\t\thidden = false;\r\n\r\n\t\t$(document).on('touchmove scroll', function(evt) {\r\n\r\n\t\t\t//figure out how far we've scrolled since the last scroll event\r\n\t\t\tdelta = scrollTop;\r\n\t\t\tscrollTop = $(window).scrollTop();\r\n\t\t\tscrollTop = (scrollTop < 0)? 0 : scrollTop;\r\n\t\t\tdelta = scrollTop - delta;\r\n\r\n\t\t\tif (scrollTop > options.offset) {\r\n\t\t\t\tairborne = true;\r\n\t\t\t} else {\r\n\t\t\t\tairborne = false;\r\n\t\t\t\tpinTop = options.offset;\r\n\t\t\t}\r\n\r\n\t\t\tif(airborne && delta > 0) {\r\n\r\n\t\t\t\tif(revealed) {\r\n\t\t\t\t\trevealed = false;\r\n\t\t\t\t\thiding = true;\r\n\t\t\t\t\tpinTop = scrollTop;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(hiding) {\r\n\t\t\t\t\ty = mathutils.map(scrollTop, pinTop, pinTop + hi, 0, -hi);\r\n\t\t\t\t\tif(y == -hi) {\r\n\t\t\t\t\t\thidden = true;\r\n\t\t\t\t\t\thiding = false;\r\n\t\t\t\t\t\tconsole.log(\"hidden\");\r\n\t\t\t\t\t\toptions.onUnpin();\r\n\t\t\t\t\t}\r\n\t\t\t\t}else if(revealing){\r\n\t\t\t\t\ty = mathutils.map(scrollTop, pinTop - hi, pinTop, 0, -hi);\r\n\t\t\t\t\tif(y == -hi) {\r\n\t\t\t\t\t\thidden = true;\r\n\t\t\t\t\t\thiding = false;\r\n\t\t\t\t\t\trevealing = false;\r\n\t\t\t\t\t\tconsole.log(\"hidden2\");\r\n\t\t\t\t\t\toptions.onUnpin();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if (delta < 0) {\r\n\r\n\t\t\t\tif (hidden) {\r\n\t\t\t\t\trevealing = true;\r\n\t\t\t\t\thidden = false;\r\n\t\t\t\t\tpinTop = scrollTop;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (revealing) {\r\n\t\t\t\t\ty = mathutils.map(scrollTop, pinTop - hi, pinTop, 0, -hi);\r\n\t\t\t\t\tif (y == 0) {\r\n\t\t\t\t\t\trevealed = true;\r\n\t\t\t\t\t\trevealing = false;\r\n\t\t\t\t\t\tconsole.log(\"shown\");\r\n\t\t\t\t\t\toptions.onPin();\r\n\t\t\t\t\t}\r\n\t\t\t\t}else if(hiding){\r\n\t\t\t\t\ty = mathutils.map(scrollTop, pinTop, pinTop + hi, 0, -hi);\r\n\t\t\t\t\tif (y == 0) {\r\n\t\t\t\t\t\trevealed = true;\r\n\t\t\t\t\t\trevealing = false;\r\n\t\t\t\t\t\thiding = false;\r\n\t\t\t\t\t\tconsole.log(\"shown2\");\r\n\t\t\t\t\t\toptions.onPin();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\th.css(\"top\", y);\r\n\r\n\t\t});\r\n\t}\r\n\r\n\r\n\treturn Doorway;\r\n}));\r\n\r\n\r\n\r\n","(function() {\n\n    'use strict';\n\n    var Doorway = require('./doorway');\n    var $header = $('[data-doorway-header]');\n    var deadzone = $header.attr('data-doorway-deadzone');\n\n    Doorway($header, {\n        offset: deadzone,\n        onPin: function(){\n            $header.trigger('is-pinned');\n        },\n        onUnpin: function(){\n            $header.trigger('is-unpinned');\n        }\n    });\n\n})();\n"]}